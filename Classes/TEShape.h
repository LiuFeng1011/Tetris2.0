//
//  TEShape.h
//  Tetris
//
//  Created by 刘 峰 on 14/12/7.
//
//

#ifndef __Tetris__TEShape__
#define __Tetris__TEShape__

#include <stdio.h>
#include "TEGameCtrl.h"

//形状数量
#define SHAPE_TYPE_COUNT 20

enum TEShapeType{
    k_ShapeType_line,//长条
    k_ShapeType_squares,//方块
    k_ShapeType_L,//L
    k_ShapeType_L2,//L
    k_ShapeType_T,//T
    k_ShapeType_Z1,//Z1
    k_ShapeType_Z2,//Z2
    k_ShapeType_U,//U
};

#define SHAPE_WIDTH 5
#define SHAPE_HEIGHT 5

static const int ShapeMatrix[SHAPE_TYPE_COUNT][4][SHAPE_WIDTH][SHAPE_HEIGHT] = {
    {//长条
        {//d1
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {0,0,0,0,0},
            {1,1,1,1,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,0,0,0,0},
            {1,1,1,1,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//方块
        {//d1
            {1,1,0,0,0},
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {1,1,0,0,0},
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {1,1,0,0,0},
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {1,1,0,0,0},
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//L
        {//d1
            {1,0,0,0,0},
            {1,0,0,0,0},
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {0,0,0,0,0},
            {1,1,1,0,0},
            {1,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {1,1,0,0,0},
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,0,1,0,0},
            {1,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//L2
        {//d1
            {0,1,0,0,0},
            {0,1,0,0,0},
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {1,0,0,0,0},
            {1,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {1,1,0,0,0},
            {1,0,0,0,0},
            {1,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {1,1,1,0,0},
            {0,0,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//T
        {//d1
            {0,1,0,0,0},
            {1,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {0,1,0,0,0},
            {0,1,1,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {1,1,1,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,1,0,0,0},
            {1,1,0,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//Z1
        {//d1
            {1,1,0,0,0},
            {0,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {0,1,0,0,0},
            {1,1,0,0,0},
            {1,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {1,1,0,0,0},
            {0,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,1,0,0,0},
            {1,1,0,0,0},
            {1,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//Z2
        {//d1
            {0,1,1,0,0},
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {1,0,0,0,0},
            {1,1,0,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {0,1,1,0,0},
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {1,0,0,0,0},
            {1,1,0,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//U 8
        {//d1
            {1,0,1,0,0},
            {1,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {1,1,0,0,0},
            {1,0,0,0,0},
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {1,1,1,0,0},
            {1,0,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {1,1,0,0,0},
            {0,1,0,0,0},
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//9
        {//d1
            {1,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {1,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {1,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {1,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//10
        {//d1
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {1,0,0,0,0},
            {1,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {1,0,0,0,0},
            {1,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//11
        {//d1
            {1,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {1,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//12
        {//d1
            {1,0,0,0,0},
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {1,1,0,0,0},
            {1,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {1,1,0,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,1,0,0,0},
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//13
        {//d1
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,1,1,0,0},
            {0,0,1,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {0,0,0,0,0},
            {0,1,1,1,0},
            {1,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {0,1,0,0,0},
            {0,1,1,0,0},
            {0,0,1,0,0},
            {0,0,1,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,0,0,0,0},
            {0,0,1,1,0},
            {1,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//14
        {//d1
            {0,0,0,0,0},
            {1,0,0,0,0},
            {1,1,1,1,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {0,1,1,0,0},
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {0,0,0,0,0},
            {1,1,1,1,0},
            {0,0,0,1,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,0,1,0,0},
            {0,0,1,0,0},
            {0,0,1,0,0},
            {0,1,1,0,0},
            {0,0,0,0,0},
        }
    },
    {//15
        {//d1
            {0,0,0,0,0},
            {0,0,0,1,0},
            {1,1,1,1,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,1,1,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {0,0,0,0,0},
            {1,1,1,1,0},
            {1,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,1,1,0,0},
            {0,0,1,0,0},
            {0,0,1,0,0},
            {0,0,1,0,0},
            {0,0,0,0,0},
        }
    },
    {//16
        {//d1
            {0,0,0,0,0},
            {0,1,1,1,0},
            {0,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {0,0,0,0,0},
            {0,1,1,0,0},
            {0,1,1,0,0},
            {0,0,1,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {0,0,0,0,0},
            {0,1,1,0,0},
            {1,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,1,0,0,0},
            {0,1,1,0,0},
            {0,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//17
        {//d1
            {0,0,0,0,0},
            {1,1,1,0,0},
            {0,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {0,0,1,0,0},
            {0,1,1,0,0},
            {0,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {0,0,0,0,0},
            {0,1,1,0,0},
            {0,1,1,1,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,0,0,0,0},
            {0,1,1,0,0},
            {0,1,1,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//18
        {//d1
            {0,1,0,0,0},
            {1,1,1,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {0,1,0,0,0},
            {1,1,1,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {0,1,0,0,0},
            {1,1,1,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,1,0,0,0},
            {1,1,1,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//19
        {//d1
            {0,1,0,0,0},
            {0,1,0,0,0},
            {1,1,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {1,0,0,0,0},
            {1,1,1,0,0},
            {1,0,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {1,1,1,0,0},
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,0,1,0,0},
            {1,1,1,0,0},
            {0,0,1,0,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
    {//20
        {//d1
            {0,0,1,0,0},
            {0,1,1,0,0},
            {0,1,0,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
        },
        {//d2
            {0,0,0,0,0},
            {1,1,1,0,0},
            {0,0,1,1,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        },
        {//d3
            {0,0,1,0,0},
            {0,0,1,0,0},
            {0,1,1,0,0},
            {0,1,0,0,0},
            {0,0,0,0,0},
        },
        {//d4
            {0,0,0,0,0},
            {1,1,0,0,0},
            {0,1,1,1,0},
            {0,0,0,0,0},
            {0,0,0,0,0},
        }
    },
};

enum ShapeMoveDir {
    m_shapeMoveDir_down,
    m_shapeMoveDir_left,
    m_shapeMoveDir_right,
};

class TEBaseShape{
public:
    TEBaseShape();
    ~TEBaseShape();
    TEShapeType myType;
    //方向  1，2，3，4
    int m_nMyDir;
    
    int posx,posy;
    
    void MyInit(int mode);
    
    //旋转
    void Rotation();
    //下落
    bool Move(ShapeMoveDir dir);
    
    //
};

#endif /* defined(__Tetris__TEShape__) */
